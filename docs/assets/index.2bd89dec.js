import{R as e,r as a,c as t,u as o,a as l,S as r,b as n,d as c,P as s}from"./vendor.da48e01d.js";const m=t=>e.createElement(a.exports.Fragment,null,e.createElement("label",{className:"form-label"},t.title),e.createElement("input",{onChange:e=>{t.handleColorChange(e.currentTarget.value)},type:"color",className:"form-control form-control-color w-100",value:t.color,title:"Color"})),d=t({name:"canvas",initialState:{weight:5,color:"#000000",exportFormat:"image/png",mouseIsOverCanvas:!1,backgroundColor:"#DCDCDC",history:[]},reducers:{colorChanged(e,a){e.color=a.payload||e.color},weightChanged(e,a){e.weight=a.payload},mouseOverCanvas(e){e.mouseIsOverCanvas=!0},mouseOutOfCanvas(e){e.mouseIsOverCanvas=!1},exportFormatChanged(e,a){e.exportFormat=a.payload},backgroundColorChanged(e,a){e.backgroundColor=a.payload},historyLineAdded(e,a){e.history.push(a.payload)},historyCleared(e){e.history=[]}}}),{colorChanged:i,weightChanged:u,mouseOutOfCanvas:g,mouseOverCanvas:h,exportFormatChanged:p,backgroundColorChanged:v,historyLineAdded:E,historyCleared:C}=d.actions;var b=d.reducer;const w=()=>o(),N=l,y=()=>{const t=N((e=>e.canvas.weight)),o=w();return e.createElement(a.exports.Fragment,null,e.createElement("label",{className:"form-label"},"Weight"),e.createElement("input",{onChange:e=>{o(u(parseInt(e.currentTarget.value)))},type:"number",className:"form-control form-control-color w-100",value:t,title:"Weight"}))},k=a=>e.createElement("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},a.buttonText),f=a=>e.createElement("div",{className:"modal",id:a.modalId,tabIndex:-1},e.createElement("div",{className:"modal-dialog"},e.createElement("div",{className:"modal-content"},e.createElement("div",{className:"modal-header"},e.createElement("h5",{className:"modal-title"},a.modalTitle)),e.createElement("div",{className:"modal-body"},a.modalBody),e.createElement("div",{className:"modal-footer"},a.modalFooter)))),x=a=>{const t=w();return e.createElement("div",{onClick:()=>{const e=document.querySelector(`input[name=${a.formName}]:checked`).value;t(p(e||"image/png"))}},a.checks.map((t=>e.createElement("div",{className:"form-check",key:t.id},e.createElement("input",{className:"form-check-input",type:"radio",name:a.formName,id:t.id,value:t.value}),e.createElement("label",{className:"form-check-label",htmlFor:t.id},t.label)))))},I=a=>e.createElement("button",{className:`btn btn-success w-100 ${a.classes||""}`,type:"button","data-bs-toggle":"modal","data-bs-target":`#${a.targetId}`},a.buttonText),O=t=>{const o="downloadTypes",l=e.createElement(x,{formName:o,checks:[{id:"exportJpg",value:"image/jpeg",label:"JPG"},{id:"exportPng",value:"image/png",label:"PNG",checked:!0}]}),r=e.createElement("div",{className:"row"},e.createElement("div",{className:"col"},e.createElement("button",{type:"button",className:"btn btn-primary",onClick:t.handleDownload},"Downlaod")),e.createElement("div",{className:"col"},e.createElement(k,{buttonText:"Cancel"})));return e.createElement(a.exports.Fragment,null,e.createElement(I,{buttonText:"Download",targetId:o,key:o}),e.createElement(f,{modalBody:l,modalFooter:r,modalId:o,modalTitle:"Choose a format"}))},F=(e,a,t)=>{e.background(a),t.forEach((a=>{const{mouseX:t,mouseY:o,pmouseX:l,pmouseY:r}=a.coords;e.stroke(a.color),e.strokeWeight(a.weight),e.line(t,o,l,r)}))},T=a=>{const{color:t,weight:o,mouseIsOverCanvas:l,backgroundColor:n,history:c}=N((e=>e.canvas)),s=w(),m=e=>{e.resizeCanvas(Math.floor(.6*e.windowWidth),Math.floor(.6*e.windowHeight)),e.background(n),c.forEach((a=>{F(e,n,c)}))};return e.createElement("div",{className:"w-100 text-start"},e.createElement(r,{setup:(e,a)=>{const t=e.createCanvas(1,1);t.parent(a),t.mouseOver((()=>s(h()))),t.mouseOut((()=>s(g()))),m(e),e.background(n),window.p5=e},draw:e=>{if(e.stroke(t),e.strokeWeight(o),l&&e.mouseIsPressed){const{mouseX:a,mouseY:l,pmouseX:r,pmouseY:n}=e;e.line(a,l,r,n);s(E({color:t,weight:o,coords:{mouseX:a,mouseY:l,pmouseX:r,pmouseY:n}}))}},windowResized:m}))};function D(){const{backgroundColor:a,exportFormat:t,color:o,history:l}=N((e=>e.canvas)),r=t.replace("image/",""),n=w(),c=e.createElement(T,null);return e.createElement("div",{className:"App container "},e.createElement("div",{className:"row align-items-end controls"},e.createElement("div",{className:"col"},e.createElement(m,{title:"Color",handleColorChange:e=>n(i(e)),color:o})),e.createElement("div",{className:"col"},e.createElement(m,{title:"Background Color",handleColorChange:e=>{n(v(e));const t=window.p5;F(t,a,l)},color:a})),e.createElement("div",{className:"col"},e.createElement(y,null)),e.createElement("div",{className:"col"},e.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:()=>{const e=window.p5;e.clear(),n(C()),e.background(a)}},"Clear")),e.createElement("div",{className:"col"},e.createElement(O,{handleDownload:()=>{window.p5.saveCanvas("alejo-drawing",r.replace("jpeg","jpg"))}}))),e.createElement("div",{className:"row mt-4 canvas"},e.createElement("div",{className:"col"},c)))}const X=n({reducer:{canvas:b}});c.render(e.createElement(e.StrictMode,null,e.createElement(s,{store:X},e.createElement(D,null))),document.getElementById("root"));
