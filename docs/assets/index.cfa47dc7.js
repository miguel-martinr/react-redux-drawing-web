import{u as e,a,c as t,R as l,r as o,S as n,b as r,d as c,P as s}from"./vendor.64198437.js";const m=()=>a(),d=e,i=t({name:"canvas",initialState:{weight:5,color:"#000000",exportFormat:"image/png",mouseIsOverCanvas:!1},reducers:{colorChanged(e,a){e.color=a.payload||e.color},weightChanged(e,a){e.weight=a.payload},mouseOverCanvas(e){e.mouseIsOverCanvas=!0},mouseOutOfCanvas(e){e.mouseIsOverCanvas=!1},exportFormatChanged(e,a){e.exportFormat=a.payload}}}),{colorChanged:u,weightChanged:v,mouseOutOfCanvas:p,mouseOverCanvas:g,exportFormatChanged:E}=i.actions;var b=i.reducer;const h=()=>{const e=d((e=>e.canvas.color)),a=m();return l.createElement(o.exports.Fragment,null,l.createElement("label",{className:"form-label"},"Color"),l.createElement("input",{onChange:e=>{a(u(e.currentTarget.value))},type:"color",className:"form-control form-control-color w-100",value:e,title:"Color"}))},N=()=>{const e=d((e=>e.canvas.weight)),a=m();return l.createElement(o.exports.Fragment,null,l.createElement("label",{className:"form-label"},"Weight"),l.createElement("input",{onChange:e=>{a(v(parseInt(e.currentTarget.value)))},type:"number",className:"form-control form-control-color w-100",value:e,title:"Weight"}))},w=e=>l.createElement("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal","aria-label":"Close"},e.buttonText),C=e=>l.createElement("div",{className:"modal",id:e.modalId,tabIndex:-1},l.createElement("div",{className:"modal-dialog"},l.createElement("div",{className:"modal-content"},l.createElement("div",{className:"modal-header"},l.createElement("h5",{className:"modal-title"},e.modalTitle)),l.createElement("div",{className:"modal-body"},e.modalBody),l.createElement("div",{className:"modal-footer"},e.modalFooter)))),y=e=>{const a=m();return l.createElement("div",{onClick:()=>{const t=document.querySelector(`input[name=${e.formName}]:checked`).value;a(E(t||"image/png"))}},e.checks.map((a=>l.createElement("div",{className:"form-check",key:a.id},l.createElement("input",{className:"form-check-input",type:"radio",name:e.formName,id:a.id,value:a.value}),l.createElement("label",{className:"form-check-label",htmlFor:a.id},a.label)))))},f=e=>l.createElement("button",{className:`btn btn-success w-100 ${e.classes||""}`,type:"button","data-bs-toggle":"modal","data-bs-target":`#${e.targetId}`},e.buttonText),k=e=>{const a="downloadTypes",t=l.createElement(y,{formName:a,checks:[{id:"exportJpg",value:"image/jpeg",label:"JPG"},{id:"exportPng",value:"image/png",label:"PNG",checked:!0}]}),n=l.createElement("div",null,l.createElement(w,{buttonText:"Cancel"}),l.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.handleDownload},"Downlaod"));return l.createElement(o.exports.Fragment,null,l.createElement(f,{buttonText:"Download",targetId:a,key:a}),l.createElement(C,{modalBody:t,modalFooter:n,modalId:a,modalTitle:"Choose a format"}))},x=e=>{const{color:a,weight:t,mouseIsOverCanvas:o}=d((e=>e.canvas)),r=m();return l.createElement("div",{className:"w-100 text-start"},l.createElement(n,{setup:(e,a)=>{const t=e.createCanvas(1,1);t.parent(a),t.mouseOver((()=>r(g()))),t.mouseOut((()=>r(p()))),(e=>{e.resizeCanvas(Math.floor(.6*e.windowWidth),Math.floor(.6*e.windowHeight))})(e),e.background(220),window.p5=e},draw:e=>{e.stroke(a),e.strokeWeight(t),o&&e.mouseIsPressed&&e.line(e.mouseX,e.mouseY,e.pmouseX,e.pmouseY)}}))};function I(){const e=d((e=>e.canvas.exportFormat.replace("image/",""))),a=l.createElement(x,null);return l.createElement("div",{className:"App container "},l.createElement("div",{className:"row align-items-end controls"},l.createElement("div",{className:"col"},l.createElement(h,null)),l.createElement("div",{className:"col"},l.createElement(N,null)),l.createElement("div",{className:"col"},l.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:()=>{const e=window.p5;e.clear(),e.background(220)}},"Clear")),l.createElement("div",{className:"col"},l.createElement(k,{handleDownload:()=>{window.p5.saveCanvas("alejo-drawing",e.replace("jpeg","jpg"))}}))),l.createElement("div",{className:"row mt-4 canvas"},l.createElement("div",{className:"col"},a)))}const O=r({reducer:{canvas:b}});c.render(l.createElement(l.StrictMode,null,l.createElement(s,{store:O},l.createElement(I,null))),document.getElementById("root"));
